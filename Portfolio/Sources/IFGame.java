import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.Scanner;

public class IFGame 
{
	public Scanner in = new Scanner(System.in);
	public boolean echoOn = false;
	public Location location;
	public Item item;
	public ArrayList<Item> inventory = new ArrayList<>();
	public boolean enterable = false;
	public boolean win = false;
	public int health;
	public Item pizza1 = new Item("pizza", "pizza from pizza house");
	public Item door = new Item("door", "a door full of pics of prof.Neller and some interesting puzzles");
	public Item pc = new Item("PC", "This is where prof. Neller stores all the grades");
	public IFGame(boolean echoOn) 
	{
		this.echoOn = echoOn;
		initialize();
		play();
	}

	private void initialize() 
	{
		System.out.println("This is the last day of school, you just got off from work,\n"
				+ "you need to get something to eat becuase you're starving.\n"
				+ "Also you failed your last CS assignment, your evil mind\n"
				+ "is thinking to sneak into your professor's office and \n"
				+ "modify your grade a little bit.");
		//		 Location servo = new Location("Servo", "longer text \nthis is Servo");
		Location cub = new Location("CUB", "This is where you work...");
		Location stine = new Location("Stine Hall", "This is your 'beloved' home for your freshman year"); 
		Location pizzaHouse = new Location("Pizza House", "Pizzas, subs & wings are served \nat this stalwart local pizza parlor with a simple interior.\n(Of course, you need money to buy pizza)");
		Location library = new Location("Musselman Library", "Musselman Library empowers our community of learners to discover and engage \n"
				+ "with the worldwide collected knowledge, to explore creative and intellectual pursuits, \nand to actively participate in research and scholarship.");
		Location plank = new Location("Plank Gym",	"Plank provides office space for the Center for Public Service, \n"
				+ "the Gettysburg Recreation Adventure Board (GRAB), WZBT (the campus radio station), \n"
				+ "the Gettysburgian newspaper, the Spectrum yearbook, Student Senate, and other student organizations.");
		Location glatOne = new Location("Glatfelter Hall", "This is one of the oldest buildings on the Gettysburg College Campus, "
				+ "\nwhere the CS department is located");
		Location glatTwo = new Location("2nd Floor of Glat", "This is where the student lounge for CS, \nand the office for professor Neller is located.\n"
				+ "You see the office of professor Neller\", \"This is where your final exam is graded,\n"
				+ "but the door is locked.");
		Location office = new Location("The office of professor Neller", "This is where your final exam is graded.");
		
		health = 10;
		//		 servo.exits.put("s", cub);
		//		 servo.exits.put("se", stine);
		//		 cub.exits.put("n", servo);
		cub.exits.put("e", stine);
		cub.exits.put("s", plank);
		cub.exits.put("se", library);

		stine.exits.put("e", pizzaHouse);
		stine.exits.put("w", cub);
		stine.exits.put("s", library);
		stine.exits.put("sw", plank);

		plank.exits.put("n", cub);
		plank.exits.put("e", library);
		plank.exits.put("ne", stine);
		plank.exits.put("se", glatOne);

		library.exits.put("sw", glatOne);
		library.exits.put("w", plank);
		library.exits.put("nw", cub);
		library.exits.put("n", stine);
		library.exits.put("ne", pizzaHouse);

		pizzaHouse.exits.put("sw", library);
		pizzaHouse.exits.put("w", stine);

		glatOne.exits.put("ne", library);
		glatOne.exits.put("nw", plank);
		glatOne.exits.put("up", glatTwo);

		glatTwo.exits.put("down", glatOne);
		glatTwo.exits.put("enter", office);

		office.exits.put("exit", glatTwo);

		//System.out.println(servo);
		location = cub;
		Item money = new Item("money", "your wallet which has only enough money for a pizza");
		stine.items.add(money);
		money.get.put("money", money);
		Item usb = new Item("usb", "the thumb drive which has your 'desired' grade report.");
		stine.items.add(usb);
		usb.get.put("usb", usb);
		
		
		Item mail = new Item("mail", "You have a bill in your mailbox");
		cub.items.add(mail);
		mail.get.put("mail", mail);
		Item poster = new Item("poster", "a poster for CS department");

		poster.get.put("poster", poster);
		cub.items.add(poster);

		Item magicBook = new Item("magicBook", "It's the book of magics, it will teach you how to do magics");
		library.items.add(magicBook);
		magicBook.get.put("magicBook", magicBook);

		Item pizza = new Item("pizza", "Yum yum pizza");
		pizza.get.put("pizza", pizza);

		Item pokers = new Item("pokers", "Looks like professor Neller's cards on the stairs");
		glatOne.items.add(pokers);
		pokers.get.put("pokers", pokers);

		Item key = new Item("key", "Someone dropped their key on the floor, interesting...");
		glatTwo.items.add(key);
		key.get.put("key", key);
		//inventory.add(key);
		glatTwo.items.add(door);
		pizzaHouse.items.add(pizza1);
		office.items.add(pc);
		door.get.put("door", door);
	}

	@SuppressWarnings("unused")
	private void play() 
	{
		while(true)
		{
			health--;
			if(health < 0)
			{
				System.out.println("you starved to death");
				break;
			}
			System.out.println("" + "Your health bar: " + health);
			System.out.println(location);
			System.out.print("? ");
			String command = in.nextLine();
			String[] directionArray = {"go south", "south","go s", "go east","east", "go e", "go north", "north", "go n", "go west", "west", "w", "go sw", "go southwest", "southwest", "go southeast", "southeast", "go se", "northwest", "go northwest", "go nw", "go northeast", "go ne", "northeast"};
			String[] directionArray2 = {"s", "e", "n", "w", "sw", "se", "nw", "ne"};
			ArrayList<String> directionArray3 = new ArrayList<>();
			for(String string : directionArray)
			{
				directionArray3.add(string);
			}
			for(int i = 0; i < directionArray.length; i++)
			{
				if(command.equals(directionArray[i]))
				{
					command = (directionArray2[i / 3]);
				}
				else if (command.contains("up"))
				{
					command = "up";
				}
				else if (command.contains("down"))
				{
					command = "down";
				}
			}
			if(echoOn)
			{
				System.out.println(command);
			}
			if(command.equals("quit"))
			{
				System.exit(0);
			}
			else if (command.contains("-e"))
			{
				echoOn = true;
			}
			else if(command.equals("restart"))
			{
				inventory.clear();
				initialize();
				play();
			}
			else if(command.equals("look"))
			{
				location.isVisited = false;
			}
			else if (command.equals("i") || command.equals("inventory"))
			{
				System.out.println(Arrays.toString(inventory.toArray()));
			}
			else if (command.contains("x") || command.contains("examine"))
			{
				String [] parsed = command.split("\\s+");
				//System.out.println(Arrays.toString(parsed));
				if(parsed[0].equals("examine") || parsed[0].equals("x"))
				{
					//System.out.println(parsed[1]);
					if(parsed.length < 2)
					{
						System.out.println("examine what?");
					}
					else
					{
						Item currentItem = Item.get.get(parsed[1]);
						if(location.items.contains(currentItem) || inventory.contains(currentItem))
						{
							System.out.println(currentItem.examine());
						}
						else
						{
							System.out.println("You don't see that here.");
						}
					}
				}
			}
			else if(command.contains("take") || command.contains("get"))
			{
				String [] parsed = command.split("\\s+");
				if(parsed.length < 2)
				{
					System.out.println("get what?");
				}
				else if(parsed[0].equals("take") || parsed[0].equals("get"))
				{
					Item currentItem = Item.get.get(parsed[1]);
					if(currentItem != door)
					{
						if(location.items.contains(currentItem))
						{
							inventory.add(currentItem);
							location.items.remove(currentItem);
						}
						else
						{
							System.out.println("You cannot get this");
						}
					}
				}
			}
			else if(command.contains("drop"))
			{
				String [] parsed = command.split("\\s+");
				if(parsed[0].equals("drop"))
				{
					Item currentItem = Item.get.get(parsed[1]);
					if(inventory.contains(currentItem))
					{
						inventory.remove(currentItem);
						location.items.add(currentItem);
					}
					else
					{
						System.out.println("cannot drop this");
					}
				}
				else
				{
					System.out.println("drop what?");
				}
			}
			else if(command.contains("eat") && command.contains("pizza"))
			{
				//System.out.println("enter eat");
				String [] parsed = command.split("\\s+");
				if(parsed[0].equals("eat"))
				{
					//System.out.println("has eat");
					if(parsed[1].equals("pizza"))
					{
						//System.out.println("has pizza");
						Item pizza = Item.get.get("pizza");
						if(inventory.contains(pizza))
						{
							System.out.println("Delicious pizza!");
							inventory.remove(pizza);
							health = 10000000;
						}
						else
						{
							System.out.println("You're dreaming, you do not have a pizza to eat");
						}
					}
				}
//				else
//				{
//					System.out.println("WHAT?????");
//				}
			}
			else if(command.contains("money") && command.contains("pizza"))
			{
				String [] parsed = command.split("\\s+");
				if(parsed[0].equals("buy") || parsed[0].equals("purchase") || parsed[0].equals("use") || parsed[0].equals("get") )
				{
					if(parsed[1].equals("pizza") || parsed[1].equals("money") || parsed[3].equals("money") || parsed[3].equals("pizza"))
					{
						Item money = Item.get.get("money");
						Item pizza = Item.get.get("pizza");
						
						if(inventory.contains(money))
						{
							if(location.items.contains(pizza1))
							{
								inventory.remove(money);
								inventory.add(pizza);
								System.out.println("Pizza is bought");
							}
							//System.out.println("bought pizza");
							else
							{
								System.out.println("You must be starving, no pizza here to buy...");
							}
						}
						else
						{
							System.out.println("You don't have money to buy pizza.");
						}
					}
				}
				else
				{
					System.out.println("buy what?");
				}
			}
			
			else if(command.contains("key") && command.contains("door"))
			{
				//Item door = Item.get.get("door");
				//System.out.println("test");
				Item key = Item.get.get("key");
				String [] parsed = command.split("\\s+");
				if(parsed[0].equals("use") && parsed[1].equals("key"))
				{
					if(inventory.contains(key) && location.items.contains(door))
					{
						enterable = true;
						System.out.println("door unlocked");
					}
					else if (location.items.contains(door) != true)
					{
						System.out.println("there's no door!!!");
					}
					else if (inventory.contains(key) != true)
					{
						System.out.println("cannot open this door");
					}
					
				}
			}
			else if(command.contains("usb") && command.contains("use"))
			{
				Item usb = Item.get.get("usb");
				if(inventory.contains(usb) && location.items.contains(pc))
				{
					System.out.println("you have successfully changed your grade!!!");
//					for(int i = 0; i < 5; i++)
//					{
//						System.out.println();
//					}
//					System.out.println("Two days later");
//					for(int i = 0; i < 5; i++)
//					{
//						System.out.println();
//					}
//					System.out.println("you have been busted for cheating...");
					System.out.println("game over");
					System.out.println("((((///(((//////(///(((///////(((((/////////////////////////(//////(//(/////////////((((((##((//((((((((((((((((//(/////(############/,,,,,,,,,,,*/(((((######(\r\n" + 
							"((((///((///////////(((///////(((///////////////////////////(//(//////(/////////((/((((##########%%######((((((((((////(#############/,,,,,,,,,,,*/(((((######(\r\n" + 
							"((((////////////(///(((///////(((///////////////////////////(/////////(/////((((#####%%%%%%%%%%%%%%%&%%%%%%%%#######((((#############*,,,,,,,,,,,*/(((((######/\r\n" + 
							"((((////////////////((////////(((/////////////////////////////////////((((((#%%%&&&&&%%&%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##############*,,,,,,,,,,,*/(((((######/\r\n" + 
							"((((////////////////((////////(((//////////////////////////////////(((##%%&&&&&&&&&&&&&&&&&&&&&&&%%%%%%%%%%%%%%&&&%%%%%&&%%%%#######(*,,,,,,,,,,,*/(((((#####(/\r\n" + 
							"((((////////////////(/////////(((/////////////////////////////////(((#%&&&@@@@@&&&&@@@@@@&&&&&&&&&&&&&&&%%%%%%%%&&&&%%%%&&&%%%######(,,,,,,,,,,,,*/(((((#####(/\r\n" + 
							"((/(////////////////(/////////((/////////////////////////////////(#%%&&@@@@@@@@@@@@@@@@@@&&&&&&&&&&&&&&&&%%%%%%%%%&&&%%%%%&&&%%#####/,,,,,,,,,,,*/((((((#####(*\r\n" + 
							"((/((/////////////////////////((///////////////////////////////(#%&@@@@@@@@@@@@@@@@@@@&&&&&&&&&&&&&&%%&&&&%%%&&%%%&&&&%%%%%&&%%%####/,,,,,,,,,,,*/((((((#####(*\r\n" + 
							"(///(/////////////////////////((////////////////////////////((#%&&@@@@@@@@@@@@@@@@@@@@&&&&&&&&&&&&&&%%%%%%&&&&&&&%%&&&&%##%%%%%%####/,,,,,,,,,,,*/(((((######/*\r\n" + 
							"((////////////////////////////((/////////////////////////((#%&@@@@@@@@@@@@@@@@@@@@&&&&&&&&&%%&%%%%%%%%%%%%&&&&&&&&&&&&&%##%%%%%%####/*,,,,,,,,,,*/(((((#####(/*\r\n" + 
							"((////////////////////////////((////////////////////////(#%&@@@@@@@@@@@@@@@@@@@@&&&&&&&&%%%%%%%%%%%%%%%%%%%&&&&&&&&&&&&%##%%%%%%%###/*******,,,,*/(((((#####(/,\r\n" + 
							"((///////////////////////*////((//////////////////////((#&@@@@@@@@@@@@@@@@@@@&&&&&&&%%%%%%%%%%%%%%##%%%%%%%%&&%%%&&&%%%%%%%&&%%%%%%#((((((((//***(((((######(*,\r\n" + 
							"((///////////////////////*////(//////////////////////(#%&@@@@@@@@@@@@@@@@&&&&&&&%%%%%%%%%%%%%%%%%###%%%%%%%%%%%%%&&%%%%%%%&&&%%%%%%%%%%%%%###((//(((((######(*,\r\n" + 
							"((///////////////////////*////(/////////////////////(%&@@@@@@@@@@@@@@@@&&&%%%%%%%%%%%%%%#####%%%%##%%#%%%%%%%%%%%%%%%%%%%&&&&%%%####%%%%%%%%%%##(((((#######(*,\r\n" + 
							"((///////////////////////*////(////////////////////#%@@@@@@@@@@@@@@@@&&&&%%%#%%%%%############%######%%%%%####%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&&%%####(########/*,\r\n" + 
							"((///////////////////////*////(//////////////////(#&@@@@@@@@@&&&&&&&%%%%%##############((#############%%######%%%%%%%%####%%%%%%%%&&&&&&&&&&&&&&%%########%#/,,\r\n" + 
							"((///////////////////////*////(//////////////////#&@@@@@@&&&&&&%%%%##((((((((#######(((((((((((###################%%%%##%%%%%%%%&&&&&&&&&&&&&&&&&&%%######%#/,,\r\n" + 
							"(((//////////////////////*////(////////////////(%&@@@@@&&&&%%%%%%#((////////////(((////////////(((((####################%%%%%%%%%&&&&&&&&&&&&&&&&&&%%####%%#*,,\r\n" + 
							"((//////////////////////**////////////////////(%&@@@@&&&%%%%%%###(//**********,********,,*********/((######((((############%%%%%&&&&&&&&&&&&&&&&&&&&%%##%%%(*,,\r\n" + 
							"(((/////////////////////**///////////////////(#%&@@@@&&%%%%%%##((//*****,,,,,,,,,,,,,,,,,,,,,,,,,***/////////((((((((#####%%%%%%%%&&&&&&&&&&&&&&&&&&&%%%%%%(*,,\r\n" + 
							"/((/////////////////////**///////////////////(#%@@@@@&&&&&&%#((///****,,,,,,,,,,,,,,,............,,,,,,,,****///((((((########%%%%%%%&&&&&&&&&&&&&&&&%%%%%%/,,,\r\n" + 
							"/////////////////////////*///////////////////(%&@@@@@@@&&&%#((///****,,,,,,,,,,,,,,......................,,,,,****///((((((####%%%%%&&&&&&&&&&&%%&&&&&%%%%%/,,,\r\n" + 
							"////////////////////////***///(/////////////(#%@@@@@@@@@&&%#(//******,,,,,,,,,,,,,...,.......................,,,,,******///((##%%%%%&&&&%&&&&&&&%%&&&&%%%%#/,,,\r\n" + 
							"////////*/////////////*/***///////////(////((%&@@@@@@@@@&%#(//******,,,,,,,,,,,,,..............................,,,,,,*******/((#%%%%%%%%%%%&&&&&&%%%%%%%%%#*,,,\r\n" + 
							"////////*////////////////*////////////(////(#%&@@@@@@@@&%#((//*****,,,,,,,,,,,,,,................................,,,,,,,*****//(#%%%%%%%%%%%%&&&&&&&&%%%%%(*,,,\r\n" + 
							"////////*/////*///////*//*///////////((((/(#%%&@@@@@@@@&%#(//*****,,,,,,,,,,,,,,,.................................,,,,,,,*****/(#%%&&&%%%%%%&&%%%&&&&&&&%%(*,,,\r\n" + 
							"///(////*////**///////*****//////////((//((%%%&&@@@@@@&%#(///****,,,,,,,,,,,,,,,....................................,,,,,,****/(#%%&&&&%%%%%&&&%%%&&&&&&&%/,..,\r\n" + 
							"////////**///**///////**/*///////////////(#%%%%&&@@@@&%#((//*****,,,,,,,,,,.........................................,,,,,,,**//(#%%%%%%%%%%%%&&%%%%%&&&&/,...\r\n" + 
							"////////**///**///////*****//////////////(#%%%%&&@@@@((//****,,,,,,,,,,,,...........................................,,,,***/(##%%%%%%%##%%&&&&%%%%%&&&%#*...,\r\n" + 
							"////////**///**//////******//////////////(#%%%%&&@@@@%#((/////**,,,,,,,...............................................,,,***//(###%%%%%%%%%%&&&&&&&&&&&%%#*...,\r\n" + 
							"/////////*///**//////******//////////////(#%%%&&&&@@@%######(((((//*,,,,.......... ..................................,,,***//(((###%%%%%%%%%&&&&&&&&&&&%%(,..,*\r\n" + 
							"/////////*///**//////******/////*/////////(#%%%&&&&@###(((((((###(//**,,,..............           ................,,,,**//(((####%%%#%%%%%%&&&&&&&&&&%%(,...,\r\n" + 
							"/////////**//**///////**/**/////*//////////#%%%%%&&&%###(/////////(((((//*,,,...................  ...   ............,,,,,*/((######%%%%%%%%%%&&&&&&&&&&%%/,....\r\n" + 
							"/////////**//**//////******/////**/////////(#%%%##(//##((//******/////(((/**,,,,......................  ............,,,,,,*/(#%%%%%%%%%%%%%%&&&&&&&&&&&&%/.....\r\n" + 
							"/////////**//**/////*******/////**///////*/(#%&&%#//(#((///(((((((#((/*,.,*/**,,...........,,,,,***,,,,.............,,,,,,**/#%%%&&%%%%&&&&&&&&&&&&&&%%*.....\r\n" + 
							"/////////**//**////********////**////////**/(%%%%(/(#(////(##(**/####(*...,*//*,,........,,,***///((////**,,,,,,...,,,,,,,,**(#%&&&&&&&&&&&&&&&&&&&&&%%%#*.....\r\n" + 
							"/////////**//**////********////**////////**/(##%#(/(#//**/(((/**/(###/*,,**/((/*,,...,,..,***///////**,,,,,,,,,,,,.,,,,,,,,,*/(%&&&&&&&&&&&&&&&&&&&&&%%%(,.....\r\n" + 
							"/////////**//*/////********////**////////**//(####//(/****/////////********///*,,...,*//******///////**,,.  ..,,,,,,,,,,,,,,**/#%%&&&&&&&&&&&&&&&&&&&%%%(,.....\r\n" + 
							"/////////***/**////*******/////**////////*///(####(///******************///((*,,.....,,**,*******,*/(((/*,....,,,,**,,,,,,,,**/#%&&&&&&&&&&&&&&&&&&&&%%%/,.....\r\n" + 
							"/////////***/**//*********/////**/////////((((####(/*/******************/(((/*,,....,,****,,,,*,..,/###((/****,,,,,***,,,,,***(#%&&&&&&&&&&&&&&&&&&%%%%%/. ....\r\n" + 
							"//////////**///////******//////**////////((######(////*****************/////*,,.....,*****,,,,**,,,*/((/**//**,,,,,,,,,,,,*//((#%%&&&&%%%%%%%%&&&&%%%%%#*. ....\r\n" + 
							"//////////**///////******//////**////////(##%%%##(//////*******,,,***//////*,,.....,,,**,,,,,,***,,****,,,//**,,,,,..,*/((#(//*/#%&&%%#######%%%%%%%%%%#*. ...,\r\n" + 
							"//////////**////*********//////**/////////(#%%%#((///************/*******//*,,....,,,,**,...,,,,,,,,,,,,,,,,,,,,,***,*/((/*****/(#%%%#/*****(%%%%%%%%%%#,  ...,\r\n" + 
							"//////////**////*********//////**/////////#%%%##(///*,,,,,,,,,,,,,,,,,*///**,,,,,,,,,,,,,,....,,,,,,........,,,,,,,...,,,,,,,**/(#%%%%#(/*,*#%%%%%%%%%%(,   ..,\r\n" + 
							"//////////**////*//*****///////**////////(#%%%#((//**,,,,,,,.......,*///**,,,,,,,,,,,,.,,,,,...,,,,,,..........,,,......,,,,,**/(####(///*,/#%%%%%%%%%%/,    .,\r\n" + 
							"//////////**////**/*****///////**///////(#%%%%#(//***,,,,,,,.....,,**/**,,,....,,,,,,,,....,,.....,,,,,,,,...,,,,......,,,,,***((##/*,,..,*(%%%%%%%%%%#/.   ..,\r\n" + 
							"////*/////**///**********//////**///////(##%%##(//***,,,,,,,,,,,,,*****,,,.......,,,,,,,,............,,,,,,,**,........,,,,***/((#(*.....,*(#%%%%%%%%%#*.    .,\r\n" + 
							"////*///*/**///*********//////***//////((#####((///**,,,,,,,,,,,,*/////*,........,,,,,,,,,..........,,,,,*,,,,,........,,,****/(((/,.....,*/#%%%%%%%%%#*.    .,\r\n" + 
							"////**/**/**////********///////*///////(######((///***,,,,,,,,,,,,*////*,.......,,.....,,,,................,,,,,,,,,,,,,,****/((((/*,,..,,,/#%%%%%%%%%#,    ../\r\n" + 
							"////**/*****////********//////***/////(##%%###(//*****,,,,,,,,***/////((/*,,,,,,,,,,,,,,,,,..................,.,,,,,,,,,,***//((((/*,,.,,,,/#%%%%%%%%%(,    .,(\r\n" + 
							"///***/**/***//*********//////***////((%%%%%%##//***,,,,**////((######(((/******,,,,,,,,,,..,,,................,,,,,,,,,***/((((((/*,,,,,.,(%%%%%%%%%%(,    .*(\r\n" + 
							"///***/**/***//*********//////***///((#%%%%%%##(//**,,,*/((((((#######((/*******///****,.....,,,,...............,,,,,,,***//(((#((/*,,*,..,(%%%%%%%%%%/.    .*#\r\n" + 
							"///**********///*******///////**////((#%%%%%%##(//**,*/(((((((((((((((((//**////(((((//**,....,,,,..............,,,,,,***//(((##(//*//*,..*#%%%%%%%%%#/.   ..*(\r\n" + 
							"///**********///******////////**////(#%%%%%%%###(//*******,**//((//*****,,,,*///////(((/////**,,,,,,,,,........,,,,,,**//(((##(((((((/,...*#%%%%%%%%%#*.   ..  \r\n" + 
							"///**********///******///////***////(#%%%%%%%%###((/*,***,,,**////*,....,,,,,,************////***,,,,,,.,,......,,,,**//(((((##(((((/*,..,/###%%%%%%%(,    ..  \r\n" + 
							"**/**********//*******///////***////(#%&&&%%%%%###((/*,,.,,,**//////*,..   .  ....,,,,*****///((/*,............,,,,**//((((#####(((/*,...,/#######%%%(,    ..  \r\n" + 
							"*************//*******///////***////(#%&&&&%%%%%%##(/*,,,,,,,**////****,,,.........,,.,***//(//(((/,..........,,,****/((########((/,.....,/#######%%%(.    ..  \r\n" + 
							"*************///*****////////***////(#%%&&&&%%%%%%###*,,,,,,,********,,,,,,,,,**************,,,*/(/,.........,,,****/((########(/*,......,(########%#/.    ... \r\n" + 
							"*************///*****////////***////(#%%&&&&%%%%%%%##/***,,,,,**,,,***,,,,,,,..,,,,,,,,,,,....,*//*,......,,,,,****//(((######(/*,.......,/((######%#*.   ...,.\r\n" + 
							"*************//******//////*****////(#%%&&&&&%%%%%%%#(/****,,********,,,,,,,,.,,,,,,...........,,,.......,,,,*****/((((######(/*,........,/((((####%#*.    .,,.\r\n" + 
							"**************/******//////*****////(#%%%&&&&&&%%%%%%#((//****///////////***,,,.................,....,,,,,*****///(((#####%%#/,,.........*//(((((###(,    .... \r\n" + 
							"**************/******//////*****////((#%%&&&&&&&&&%%%%%#(/**,**/(((//(((/((//***,,,.............,,,,,,,****/////(((#####%%%%#*,.........,*//((((((##(,    ..,,.\r\n" + 
							"**************/*****//((///****///////(%%&&&&&&&&&&&%%%%%#(**,**//(((((//((/****,,,.........,,************////((####%%%%%%%#(*..........,*//((((((##/.    ..,,.\r\n" + 
							"**************/****///((//*****///////(#%&&&&&&&&&&&%%%%%#((////(((//***//(/****,.........,,**/**//((///////((#####%%%%%%%%#/,..........,*//(((((###/.    .,,. \r\n" + 
							"**************/****///(///*****///////(#%%&&&&&&&&&%%%%%%%#####(((//**//((//***,,...,,,*****/////((((((((((########%%%%%%%%#*...........,///(((((###*.  .....  \r\n" + 
							"**************//**////(///*****///////(#%%&&&&&&%%&&%%%%#######((((((((((/*****,,,,,**//////(((((((###############%%%%%%%%%#(*..........,/(/(((((###*. ........\r\n" + 
							"**************/***///((///*****///////(#%&&&&&&&%%%%%%#####(###((###(((((//////*//////(((((###############%%%###%%%%&&%%%%%%%#/,........,/(/(((((##(*. ......  \r\n" + 
							"*************//***///((///*****//////(#%%%%&&&&&&&%%%%############(((##(((((((((#######%%#####%%%%%%%%%##%%%%%%%%%&&&%%%%%%%%%#/,.......*///(((((##(,.......   \r\n" + 
							"*************///**//(((///*****///////#%%%%%%&@&&&%%%%%###%%%%##################%#%%%%%%%%%%#%%%%%%%%%%%%%%%%%%%%%&&&&%%%%%%%%%(*......,*///(((((##(,.......   \r\n" + 
							"*************///**//((////*****//////(#%%%%%%&@@@&&&&%%%%%%%%%%%#####%%#########%%%%%%%%%%%%%%%%%%%%&%%%%%%%%%%%%%&&&&%%%%%%%%%#/,.....,*///(((((##/,.......   \r\n" + 
							"*************///*//(((////////(((###%%%%%%%%%%&@@@&&&%%%%%%%%%###########%%##%###%%%%%%%%%%%%%%%%%%%&&%%%&&&%%%%%%&%%%%%%%%%%%##(*.....,*//(((((###/........   \r\n" + 
							"*************/(//((###%%%%%%%##%%%%%%%%%%%%%%%&&@@@&&&%%%%%%%%##%%%###%%%%%%%%%%%###%%%%%%%%%%&%%%%%%&&&&&&&%%##%%%%%%%%%%%%%#####(*,..,///(((((###/......,....\r\n" + 
							"*******//(####%%%%%%%%%%%%#####%%%%%%%%%%%%%%%&&&@@@&%%%%%%%%%%%%%%##%%%%%%%%%%%%%#%%%%%%%%&&&&&&%%%&&%%%&&%%##%%%######%%%%######%##(**/(/((((####*......,....\r\n" + 
							"***//(#%%%%%%%%&&&&&&%%%%%%##%#####%%%%%%%%%%%%%%%&@@&&&&%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&&&&&%%&&&%%%%%%%%%%#%%%%%%%###%%%%%%%%#####%%%##((((#####(*......,... \r\n" + 
							"*/(%%%%%%%%%%%%&&&&&%%%%%%%%%%%%%%%%%%%%%%%%%%%##(#%&&&&&&&&&%%%%%%&&%%%&&%%%&&%%%&&&&&&&&&&&&%&&&&&%&&&&%#%%&&%%%%%####%%%%%%%%####%%%%%%#######%(,......,....\r\n" + 
							"#%%%%%%%%%&&&&&&&%%%%%%%%#%%%%%%%%%%%%%%%%%%%%%((((((#%%%&&&&&&&%%%&&&&&&&&&&&&&&&&&&&&&&&&&&&%%%%%%%%%%#/#%%%%%%%%%%#####%%%%%%%##%%%%%%%%%######(,.....,,,,..\r\n" + 
							"%%&&&&%%&&&&&&&&&&&%%&&&%%%%%%%%%%%%%%%%%%%&&%#(//****/(%%&&&&&%%&&&&&&&&&&&&&&&&&&&&%%%#####((///***//**(%%%%%##%%%%%%%#%%###%%%%%%%%%%#####%%%%#(,.....,,....\r\n" + 
							"&&&&&&&&&&&&&&&&&&&&&%%%%%%%&%%%%%%%%%%%%%%%%%#/***,,,,*(((##%%%%%%%%%%%%%%%%%&&&&&%#(/****,,,.......,*(#%%%%####%%%%%%%%%%#####%%%%####(##%%%%%%%%#/*,.,,,....\r\n" + 
							"&&&&&&&&&&&&&&&&&&&&%##%%%%%%%&%%%%%%%%%%%%%%%(*,,,,,,,*//*,,***********//**/(##%%#(*,.............,*(%%%%%%#####%%%%%%%%%%%%###%%###((###%%%%%%%%%%%##(//,.   \r\n" + 
							"&%%%%%&&&&%%%%%%%%&%##%%%%%%%%&&&%%%%%%###%%%#/,,,,,,,,*//*,,................,,,***,.............,/#%%%%&%%%%#####%%%%%%%%%%%%%####(###%%####%%%%%%%######(/*,.\r\n" + 
							"%%%%%%&%%%%%%%%%%&%%%%%%%%%%%%#(%&@&%##%%#%%%#/,,,,,,,**//*,................................,/(##%%%%#%%%##%%%%%%%%%%%%###%%%%#((####%%%%%%%%##################\r\n" + 
							"&&%%%&&&&&&&&%%&&%%%%%%%%%%%%#(#%&&&&%##%%%%%#/,,,,,,,,****,............................,*(#%%%%%%%%#######%%%%%%%%%%####%%%##((#######%%%%############%###(((#\r\n" + 
							"&&&&&&&&&&&&%%&&%###%%%%##%%#(%%&&&%&&%##%%%%#/,,,,,,,,,**,,.........................,*(#%%%%%%%%%%%%######%%%%&&%%%%%%%%%%#((##%##############%%%%%%%##(((##%%\r\n" + 
							"&%&&&&&&&&%%%&&%%#%%%%%##(#%%%%&&&&&&&&%%%%%%#(*,......,,,,.....................,*/((####%%###%%%%%%%%%%####%%%%%%%%%%%%%#((###%############%%%%%%###(((#######\r\n" + 
							"%%%%&&&&%%%##%%%%%%%##%#(#%&&&&&&&&&%%&&&%%%##(*,.......................,,*//(##%%%%%####%%%##%%%%####%%%##########%%%%#(/((###############%%%%%%%#((##%%#####%\r\n" + 
							"%%%%&&%%%##%%%%%##%%###((%&&%&&&%&&%%%%%%&%%%##/,...................,*/(##%%%%%%%%%%%%%%%%%%%%%%%%%%####%%############(///((#####################((##%%%%%%%%%%\r\n" + 
							"%%&&&&%%%####%%%%#%%%%%##%%%&&%%%%%%%%%%%&%%%##(*................,/(#%%%%%%##%%%%%%%%%%%%%%%%%%%%%%%%%##%%%%%#######(/////(((##(###############((#%%%%%%%%%%%%%\r\n" + 
							"&&&&&&&&&%%%&%%%%%%%##(#%%%&&%%%%%%%%%%%%%%%%%##/,............,*(#%&&%%###%%%%%#####%%%%%%%%#####%%%%%%%%%%%%######(((((((((((((((((###%%####(/(#%%%%%%%%%%%%%%\r\n" + 
							"&&&&&%%%%##%%%###%###((%%%%&%%%&%%%%%%%%%%%%%%%#(*,.........,/(%%%%%%%%%%%%%%#####%%%%%%%%#############%%%%%%%%%#(/((###(((((/////(((#######(/(%%%%%%%%%%%%%&%%\r\n" + 
							"&&&&&%####%%%%#%%%#%#(#%&&&%%&&%%%%%%%%%%%%%%%%#(*,.,,,,,.,/#%%%##%%%%%%%%%%###%%%%%%%%%%################%%##%%#(((((######(((/**//((((((((/(#%%%%%%%%%%%%%%%%%\r\n" + 
							"&&%%&%%%%%%%%%%%%#%#(#%&&&&&&&&&%%%%%%%%%%%%%%%%#/,,,,,,,*(%%%###%%%%%%%%%%%%%%%%%%%%%%%%############%####%###(//(((######((((((((((((/(///#%%%%%%%%%%%%%%%%%%%\r\n" + 
							"%%%%%%##%%%%%%%####(#%&&&&&&&&&&&&%%%%%%%%%%%%%%%(*,,,,*(#%%###%##%%%%%%%%%%%%%%%%%%%%%############%%%%#####(//(((((####((((((#######((//(%%%%%%%%%%%%%%%%%%%%%\r\n" + 
							"%%%%###%%%%######(/(%%&&%&&&&&&&&&%%%%%%&&&&&&&%%#/,,,/#%%######%%%%%%%%%%%%%%%%%%%%%##########%%%%%%%%%##((/((((((((((((((/(#%%%####((#%%%%%%%%%%%%%%%%%%%%%%%\r\n" + 
							"&&&%###%%%#######((#%%%%%%&&&&%%&&%%%%%&&&&&&&&%%%(*,/#%%%%%##%%%%%%%%%%%%%%%%%%%%%%########%%%%%%%%%%%##(/((((((((((((////(#######(((#%&%%%%%%%%%%%%%%%%%%%%%%\r\n" + 
							"&&%############(/(#%&%%%%%%%%%%%%%%%%%%%%&%%%%%%%%#/*#%%%%%%%%%%%%%%%%%%%%%%%%%%%%##########%%%%%%%%%%%(//(#((((((((((////(##(((((((#%%%%%%%%%%%%%%%%&&&%%%%%%%\r\n" + 
							"&%###########((/(#&&&%%%%%&&%%%%%%%%%%%%%%%%%%%%%%%%%#%%%%%%%%%%%%%%%%%%%%%%%%%%%%########%%%%%%%%%%#(########((((#((////(###(((//(#%%%%%%%%%%%%%%%&&&&%%%%%%%%\r\n" + 
							"%#(##########(//#%&&&&&&&&&&&%&%%%%%%%%%%%%%%%%%#%#((%%%%%%%%%&&%%%%%%%%%%%%%%%%%#######%%%%%%%%%%%#((####%##%###(((((/(####(((/(##%%%###%%##%%%%%%%%%%%%%%%%%%\r\n" + 
							"%############(((%&&%&&&&&&&&&&&%%%%%%%%&%%%%%%#######%%%%%%%%%%%%%%%%%%%%%%%%%%%#######%%%%%%%%%%%#####%###%%%%%%##((/(####((((##%%%%########%%%%%%%%%#####%%%%\r\n" + 
							"############(((%%%%%&&&&&&&&&%%%%%%%%%&&&&&&%####%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##%%%%%%%%%%%%#(((#%%####%####%%%###((##((((#%%%%%%%%%%#%%%%%%%%%%%#######%%%\r\n" + 
							"#%%%%##########%%%%&&%%%%%%%%%%%%%%%%&&%&&%%##%%%%%%%%%%%%%%%%%%%%%%#%%%%%%%%%%%%%%%%%%%%%%%%%%#(((###%%#################(//#%%%%%%%%%%%%%%%%%%%%%%%#######%%%%\r\n" + 
							"%%%%##%%#####%%%%%&%%%%&&%%%%%%%%%%%%&%&&%%#%%%%%%%%%&%%%%%%%%%%%%###%%##%%%###%%%%%%%&&%%%%%%#(((#######%%###########((#####%%%%%%%%%%%%%%%&&%%&%%%%%%######%%\r\n" + 
							"%%%%%%%%%%&%##%%&&%%%%&&&%%%%%%%%%%%%%%&%(#%%%%%%%%%%%%%&%%%%%%%%%%%%%##%%######%%%%%%%%%%%%#(((((###########%#######(/*,*(#%%%%#%%%%%%%%%%%%%%&%%%%%%%%%%%%%%%\r\n" + 
							"&&&&&&&&&@&&&&&&&%%%%&&&%%%%%%%%%%%%%%%%%%%%%#%%%%%%%%%%%%%%%%%%%%%%%%%%%%######%%%%%%%%%%%#((((((##################(((((//(##%##%%#%%%%%%%%%%%%%#%%%%%%%%%%%%%\r\n" + 
							"&&&&&&&&&&&&&&&&&%&&&&&&&%%%%%%%%%%%%&%%%&%%%%%%%%%%%%%%%%%%%%%%%%&%%%%%%%%%##%%%%%%%#%%%#(/(((((######(((##########(####%%%%#######%%%%%%%%%%%####%%%%%%%%%%%%\r\n" + 
							"&%%%&&&%%&&&&&&&&&&&&&&&%%%%%%%%%&&&&%%%&%%%###%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#((((((((((#((((/((((((###(((##(//#%%######%%%%%%%%%%%%######%%%%%%%%%%%\r\n" + 
							"&&&%&&%%%&%%&&%&&&&&&&&&%%%%%%%%&&&&&%%%%%%%%%%%%%%%%%%%%%%%%##%%%%%%%%%%%%%%%%&&%%%%%#(/(##########((/(((//(((((//(%%%%%%%#%%%%%%%%%%%%%%%%%######%%%#%%%%%%%%\r\n" + 
							"&&(#%%&%%%%%%%%%&&&&%%%%%%%%%&&&&&%%%%%%%%%%%%%%%%%%%%%%%%%#%%%#%%%%##%%%%%%%&%%%%%(///((########(((((((///////(#%%%%%%%%%%%%%%%%%%%%%%%%%##%#######%%%%%%%%%\r\n" + 
							"&&&&&&&&&&&%%%%%%%%%%%%%%%%%%%%%%%%%%%##%%%%%%%%%%%%%%%%%%%%%%%%%%%%###%%%%%%%%%%%%(//((((((((##((((##(((((////(#%%%%%%%%%%%%%%%%%%&&%%%%%%%%%####%#%%%%%%%%%#%\r\n" + 
							"%%%%&&&&&&&&%%%%%&&&%%%%%%%%%%%%%%%%%####%%%%%%%%%%&%%%%%%%%%%%%%%%##%%%%%%%%%%%%#(((((((((((#((//((((((##(//(#%%%%%%%###%%%%%%%%%%%%%%%%%%%%%%%%%#%%%%%%%%%#%%\r\n" + 
							"&&%%&&&&&&&&&&&&&&&&%%%%%%%%%%%%%%%%#(###%%%%%%%%%&&%%%%%%%%%%%%%%%#%%%%%%%%%%%#(((((((######(((((((/(((((((#%%%%%%%%##%%%##%%%#%%%%%%%%##%%%%%%%%%%%%%%%%###%#\r\n" + 
							"%%%%&%&&&&&&&&&&&&&%%%%%%%%%&&&&%%%%######%#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##((((((#######(///(((((((/**(#%%%%%%%%%%%%%%%%%##%%%%%%%%###%%%%%%%%%%%%%%%##%%##\r\n" + 
							"((#%%%&&%%%%%&&&&&%%%%%%%%%&&&&&%%%%%%##%%##%%%%%%%%###%%%%%%%%%%%%%%%#/(%%%%(((##########(((((((/((((////%%%%%%%&%%%%%%%%%%%%%%%%%%%#######%%%%%%&%%%%%%#%%###\r\n" + 
							"##(#%%&%%%%%%&&%%%%%%%%%%%%&&&&%%&%%%%%%%%%%%%%%%%%######%%%%%%%%%%%%%%%%%%%%############((((((((((((/*/(#%%%%%%%%%%%%%%%%%%%%%%%%%%%##########%%%%%%%%%%%%%###\r\n" + 
							"###((#%%%%%%%%&&%%%%%%%%%%%%%&%%%%&%%%%&%%%&%%%%%%%%#####%%#%%%%%%%%%%%%&&%%&&%%%%######((((((((#((///(#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%######%%%%%%%%%%%%%%%%%\r\n" + 
							"%%%%####%%%%&%%%%%%%%%%%%%%%%%%%%%%%%%%&&%%&&%&&%%%%%%#%%%%%%%##%%%%%%%%%&&&&%%%%%%%%##((((((((#((/*/(#%%%%%%%%%%#%%%%%%%%%%%%%%%%%%%%%%%%###%%%%%%%#%%%%%%%%%%\r\n" + 
							"%%%%%%####%&%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&&%&&%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#####(####((//(#%%%%%%%%%%%%%%%%%###%%%%%%%%%%%%%%%%%%%%%%%%########%%%%%\r\n" + 
							"%%%%%%%%%###%&&%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%(/*(#%%%%%%%%%%%%###%##(/(#%%%%%%%%%%%%%%%%%%%%#%%%%%%%%%##%%%%%%%%%%%%%#########%%%%%\r\n" + 
							"%%%%%%%%%%%###%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&&%%%&%%%%%%%%%%%%#(/(#####%%%%%%%%%%%%%#(((#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##%%%%%%%%%%%%%%%%######%%%%%%\r\n" + 
							"%%%%%%%%%%&%%##(##%%%%%&%%&%%%%%&&%%%%%%%%%%%%%%%%%%%%%%%%&%%%%%%%%%%%%%%%%%%%%%##%##/(#%%%%%%#//(%%%%%%&%%&%%%%%%%%%%%%%%%%%%%%##%%%%%%%%%%%%%%%%%%######%%%%%\r\n" + 
							"%%%%%%%%%%%%%%%######%&&&&&&%%%%&%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&&&&%%%%%%%%%%%##%%%%%%%%#(#%%%%%%%%&&%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#%%%%%%%\r\n" + 
							"%%%%%%%%%%%%%%%%%%%%#####%&&&&&&&%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&&&&%%%%%%%%%#(#%%%%%%##%#%%%%#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#%%\r\n" + 
							"");
					System.out.println("Big brother is watching...");
					break;
				}
				else if (inventory.contains(usb) != true)
				{
					System.out.println("what usb?");
				}
				else if (location.items.contains(pc) != true)
				{
					System.out.println("no pc here...");
				}
				health = -1;
				
			}
			else if(true)
			{
				//TODO
				Location nextLocation = location.exits.get(command);
				if(nextLocation != null && command.contains("enter") != true)
				{
					location = nextLocation;
				}
				else if (command.contains("enter"))
				{
					if(enterable == false)
					{
						System.out.println("it's locked, cannot enter");
					}
					else
					{
						location = nextLocation;
					}
				}
				else
				{
					System.out.println("cannot go there");
				}

			}
			else
			{
				System.out.println("invalid command?");
			}
			System.out.println();
		}
		String command = in.nextLine();
		if(command.equals("restart"))
		{
			inventory.clear();
			initialize();
			play();
		}
	}


	public static void main(String[] args) 
	{
		new IFGame(args.length > 0 && args[0].equals("-e"));
	}

}
